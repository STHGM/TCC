%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CAPÍTULO 3
\chapter{Proposta}

Este trabalho de conclusão de curso se especifica em um dos problemas de conceito técnico, sendo ele relacionado à detecção de colisões no jogo, quando dois objetos se interceptam. A intenção do trabalho foi de realizar as comparações das colisões e fundamentá-las num estudo para evitar as divergências entre informações devido a documentação da ferramenta pouco completa e dados oriundos de outras fontes.

Foi adotada uma das \emph{engines} mais populares entre os desenvolvedores \emph{indie} e algumas grandes empresas, a Unity \cite{Unity2017} \cite{Banerjee2017}, também muito utilizada no Brasil de acordo com o Censo da Indústria Brasileira de Jogos Digitais (106  das 133 empresas pesquisadas em 2014, como mostrado na Tabela \ref{tabelaengines}) \cite{fleury2014censo} pelo fato de ter uma burocratização fácil. 

\begin{table}[!htb]
	\centering
	\begin{tabular}{@{}lcc@{}}
		\toprule
		Engine Utilizada   & \multicolumn{1}{l}{Quantidade de empresas que utilizam} & \multicolumn{1}{l}{Porcentagem de empresas que utilizam} \\ \midrule
		Unity              & 106                                                     & 79,7\%                                                   \\
		Tecnologia própria & 25                                                      & 18,8\%                                                   \\
		Cocos 2D           & 18                                                      & 13,53\%                                                  \\
		Blender            & 13                                                      & 9,77\%                                                   \\
		Corona SDK         & 11                                                      & 8,27\%                                                   \\
		Construct2         & 11                                                      & 8,27\%                                                   \\
		GameMaker          & 8                                                       & 6,02\%                                                   \\
		Flash              & 8                                                       & 6,02\%                                                   \\
		Unreal3 (UDK)      & 7                                                       & 5,26\%                                                   \\
		Marmelade          & 2                                                       & 1,5\%                                                    \\
		CryEngine          & 1                                                       & 0,75\%                                                   \\
		Outros             & 16                                                      & 12,03\%                                                  \\ \bottomrule
	\end{tabular}
	\caption{Tabela de Engines mais utilizadas no Brasil}
	\label{tabelaengines}
	\cite{fleury2014censo}
\end{table}

Foram realizadas comparações dos métodos de colisão oferecidos gratuitamente pela \emph{game engine} Unity.
Essas, foram divididas em 2 tipos:
\emph{Pre-runtime} e \emph{Runtime}.

\section{Pre-runtime}

Os objetos, seus \emph{colliders}, componentes de física e programação são inseridos na cena antes de serem executados. O programa então é executado, os objetos reagem de acordo com as suas posições na cena e próprias configurações. Os resultados são então coletados.

\section{Runtime}

Os objetos são gerados em tempo de execução, ou seja, são invocados durante a execução do programa, de acordo com a programação dos objetos-base, dos controladores e das configurações da cena. O programa é executado, os objetos são gerados em tempo de execução, reagem de acordo com suas configurações de colisão e cena. Os resultados são então coletados.

\section{Enfatização das Comparações}
\label{enfatizaComparacoes}
As comparações foram feitas usando a interface de duas dimensões da Unity para obter resultados mais simples com esse estudo. Os tipos de \emph{colliders} que tiveram mais ênfase nas comparações foram \emph{Box, Circle, Polygon e Edge}, pelo fato de serem mais utilizados.%pois são os colliders básicos dos quais os outros tipos são derivados.

As medições incluem taxa de quadros por segundo (FPS), taxa de consumo do processador, taxa de consumo de memória total durante a execução, coleta de lixo de memória, tempo total em milissegundos.

As comparações foram casos sintéticos, ou seja, não foi um jogo específico que sofreu a comparação, mas sim cenários de teste elaborados para estressar os recursos e verificar os limites de cada método de colisão.

O hardware que foi utilizado para realizar as comparações foi um notebook, com as seguintes configurações:
\begin{itemize}
	\item Processador: Intel Core i5 4210U @2.4GHz
	\item Placa de Vídeo: Intel HD Graphics 4400
	\item Memória RAM: 8GB
	\item Disco Interno: SSD 120GB
	\item Disco Externo: HDD 1TB
	\item Sistema Operacional: Windows 10 Pro
\end{itemize}

Também foi usado o software gratuito de edição de imagem \emph{Krita} \cite{KritaFoundation2017} para desenvolver os \emph{sprites} que foram usados nas comparações.

\section{Cronograma}

Na tabela \ref{tabela_crono} é apresentado um cronograma com as datas estimadas da progressão do projeto.

% Please add the following required packages to your document preamble:
% \usepackage{graphicx}
\begin{table}[]
	\resizebox{\textwidth}{!}{%
		\begin{tabular}{|l|c|c|c|c|c|c|}
			\hline
			Cronograma & \multicolumn{1}{l|}{Ago 2017} & \multicolumn{1}{l|}{Set 2017} & \multicolumn{1}{l|}{Out 2017} & \multicolumn{1}{l|}{Set 2019} & \multicolumn{1}{l|}{Out 2019} & \multicolumn{1}{l|}{Nov 2019} \\ \hline
			Pesquisas Iniciais & X & X &  &  &  &  \\ \hline
			Pesquisas sobre colisões &  & X &  &  &  &  \\ \hline
			Pesquisas sobre colisões na Unity &  &  & X &  &  &  \\ \hline
			Escrita do TCC 1 &  &  & X &  &  &  \\ \hline
			Apresentação do TCC 1 &  &  & X &  &  &  \\ \hline
			Proposta de cenários &  &  &  & X & X &  \\ \hline
			Realização das comparações &  &  &  &  & X &  \\ \hline
			Registro de resultados &  &  &  &  & X &  \\ \hline
			Escrita do TCC 2 &  &  &  &  & X & X \\ \hline
			Apresentação do TCC 2 &  &  &  &  &  & X \\ \hline
		\end{tabular}%
	}
	\caption{Cronograma de progresso estimado do trabalho}
	\label{tabela_crono}
\end{table}